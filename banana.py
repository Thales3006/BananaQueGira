import pygame,math
from math import sin,cos

pygame.init()
run=True
tela_altura=800
tela_largura=800
tela=pygame.display.set_mode((tela_largura, tela_altura))

pt=[
    [360,150,40],#0
    [440,200,40],#1
    [360,290,40],#2
    [280,260,40],#3
    [275,475,40],#4
    [360,455,40],#5
    [425,580,40],#6
    [370,620,40],#7
    [430,665,40],#8
    [460,625,40],#9
    [460,670,40],#10
    [475,650,40],#11
    [500,140,40],#12
    [495,110,40],#13
    [575,70,100],#14
    [570,95,60],#15
    [510,155,100],#16
    [480,225,100],#17
    [410,305,100],#18
    [405,450,100],#19
    [460,550,100],#20
    [475,615,100],#21
    [270,265,100],#22
    [255,480,100],#23
    [355,630,100],#24
    [440,200,160],#25
    [360,290,160],#26
    [280,260,160],#27
    [275,475,160],#28
    [360,455,160],#29
    [425,580,160],#30
    [370,620,160],#31
    [430,665,160],#32
    [460,625,160],#33
    [475,650,160],#34
    [500,140,160],#35
    [570,95,140],#36
    [360,150,160]#37

]

poligono=[
    #frente
    [360,150,40],[440,200,40],[360,290,40],
    [360,150,40],[360,290,40],[280,260,40],

    [360,150,40],[495,110,40],[440,200,40],
    [440,200,40],[495,110,40],[500,140,40],

    [495,110,40],[500,140,40],[575,70,100],
    [570,95,60],[500,140,40],[575,70,100],

    [280,260,40],[360,290,40],[275,475,40],
    [360,455,40],[275,475,40],[360,290,40],

    [425,580,40],[370,620,40],[360,455,40],
    [275,475,40],[360,455,40],[370,620,40],

    [370,620,40],[425,580,40],[430,665,40],
    [460,625,40],[425,580,40],[430,665,40],

    [460,625,40],[430,665,40],[475,650,40],
    [430,665,40],[475,650,40],[460,670,40],
    #meio
    [440,200,40],[500,140,40],[510,155,100],
    [440,200,40],[510,155,100],[480,225,100],
    [440,200,40],[360,290,40],[480,225,100],
    [360,290,40],[480,225,100],[410,305,100],
    [360,290,40],[410,305,100],[360,455,40],
    [360,455,40],[410,305,100],[405,450,100],
    [360,455,40],[405,450,100],[425,580,40],
    [425,580,40],[405,450,100],[460,550,100],
    [425,580,40],[460,550,100],[460,625,40],
    [460,625,40],[460,550,100],[475,615,100],
    #otro meio 
    [360,150,40],[280,260,40],[270,265,100],
    [360,150,40],[360,150,40],[270,265,100],
    [270,265,100],[280,260,40],[255,480,100],
    [280,260,40],[255,480,100],[275,475,40],
    [275,475,40],[255,480,100],[370,620,40],
    [255,480,100],[355,630,100],[370,620,40],
    [355,630,100],[370,620,40],[430,665,40],
    [460,625,40],[475,615,100],[475,650,40],
    #tras
    [360,150,160],[280,260,160],[360,290,160],
    [360,150,160],[440,200,160],[360,290,160],
    [280,260,160],[360,290,160],[275,475,160],
    [275,475,160],[360,455,160],[360,290,160],
    [275,475,160],[360,455,160],[370,620,160],
    [370,620,160],[425,580,160],[360,455,160],
    [425,580,160],[370,620,160],[430,665,160],
    [425,580,160],[460,625,160],[430,665,160],
    [460,625,160],[430,665,160],[475,650,160],
    [430,665,160],[475,650,160],[460,670,40],
    [360,150,160],[495,110,40],[440,200,160],
    [440,200,160],[500,140,160],[495,110,40],
    [495,110,40],[575,70,100],[570,95,140],
    [495,110,40],[500,140,160],[570,95,140],
    #meio otro tras
    [360,150,160],[495,110,40],[360,150,40],
    [270,265,100],[280,260,160],[275,475,160],
    [255,480,100],[275,475,160],[270,265,100],
    [255,480,100],[275,475,160],[370,620,160],
    [355,630,100],[370,620,160],[255,480,100],
    [355,630,100],[370,620,160],[430,665,160],
    #meio tras
    [500,140,160],[510,155,100],[440,200,160],
    [440,200,160],[480,225,100],[510,155,100],
    [360,290,160],[440,200,160],[480,225,100],
    [360,290,160],[480,225,100],[410,305,100],
    [360,290,160],[410,305,100],[360,455,160],
    [410,305,100],[360,455,160],[405,450,100],
    [360,455,160],[405,450,100],[425,580,160],
    [405,450,100],[425,580,160],[460,550,100],
    [425,580,160],[460,550,100],[460,625,160],
    [460,550,100],[460,625,160],[475,615,100],
    [460,625,160],[475,615,100],[475,650,160],

    [475,650,160],[475,650,40],[460,670,40],
    [475,650,160],[475,650,40],[475,615,100],
    [570,95,140],[570,95,60],[575,70,100],

    [500,140,40],[510,155,100],[570,95,60],
    [570,95,60],[570,95,140],[510,155,100],
    [570,95,140],[510,155,100],[500,140,160]

]
imagem=[]

foco=[400,0,-1000]
fov=45

for p in range(0,len(poligono)):
    imagem.append([])
    imagem[p].append([])
    imagem[p].append([])

for p in range(0,len(poligono)):
    poligono[p][0]-=500


def girar(x,y,z,a,b,c,px,py,pz):
    x1=(cos(a)*cos(b))*(x-px)+(cos(a)*sin(b)*sin(c)-sin(a)*cos(c))*(y-py)+(cos(a)*sin(b)*cos(c)+sin(a)*sin(c))*(z-pz)+px
    y1=(sin(a)*cos(b))*(x-px)+(cos(a)*sin(b)*sin(c)+cos(a)*cos(c))*(y-py)+(sin(a)*sin(b)*cos(c)-cos(a)*sin(c))*(z-pz)+py
    z1=(-sin(b))*(x-px)+(cos(b)*sin(c))*(y-py)+(cos(b)*cos(c))*(z-pz)+pz
    return [x1,y1,z1]


while run:
    tela.fill((255,255,255)) 


#girar
    for p in range(0,len(poligono)):
        girado=girar(poligono[p][0],poligono[p][1],poligono[p][2],0,0.1,0, 0,400,100)
        poligono[p][0]=girado[0]
        poligono[p][1]=girado[1]
        poligono[p][2]=girado[2]

#tela e perspectiva
    for p in range(0,len(poligono)):
        imagem[p][0]=(poligono[p][0]*foco[2])/(foco[2]-poligono[p][2])+foco[0]
        imagem[p][1]=(poligono[p][1]*foco[2])/(foco[2]-poligono[p][2])+foco[1]
        
    for p in range(0,int(len(imagem)/3)):
        p*=3
        cor=int(math.sqrt(abs(round((poligono[p][2]+poligono[p+1][2]+poligono[p+2][2])*60))))
        if cor > 255:
            cor = 255
        if cor < 0:
            cor = 0
        pygame.draw.polygon(tela,(cor,cor,0),((imagem[p][0],imagem[p][1]),(imagem[p+1][0],imagem[p+1][1]),(imagem[p+2][0],imagem[p+2][1])))

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            run=False
    pygame.time.delay(100)
    pygame.display.update()
pygame.quit()